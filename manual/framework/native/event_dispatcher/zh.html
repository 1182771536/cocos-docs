<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>zh.html</title>

</head>

<body>

<h1> </h1>

<h2> </h2>

<ul>
<li>(EventListenerTouch)</li>
<li>(EventListenerKeyboard)</li>
<li>(EventListenerAcceleration)</li>
<li>(EventListenerMouse)</li>
<li>(EventListenerCustom)</li>
</ul>

<h2> </h2>

<h3> </h3>

<p>```c++
    auto sprite1 = Sprite::create("Images/CyanSquare.png");
    sprite1->setPosition(origin+Point(size.width/2, size.height/2) + Point(-80, 80));
    addChild(sprite1, 10);</p>

<pre><code>auto sprite2 = Sprite::create("Images/MagentaSquare.png");
sprite2-&gt;setPosition(origin+Point(size.width/2, size.height/2));
addChild(sprite2, 20);

auto sprite3 = Sprite::create("Images/YellowSquare.png");
sprite3-&gt;setPosition(Point(0, 0));
sprite2-&gt;addChild(sprite3, 1);
</code></pre>

<p>```</p>

<p><img src="touchable_sprite.png" alt="touchable_sprite" title="" /></p>

<h3> </h3>

<p>```c++
    //           OneByOne <br />
    auto listener1 = EventListenerTouchOneByOne::create();
    //            onTouchBegan      true <br />
    listener1->setSwallowTouches(true);</p>

<pre><code>//    lambda    onTouchBegan       
listener1-&gt;onTouchBegan = [](Touch* touch, Event* event){
    //          target 
    auto target = static_cast&lt;Sprite*&gt;(event-&gt;getCurrentTarget());

    //                   
    Point locationInNode = target-&gt;convertToNodeSpace(touch-&gt;getLocation());
    Size s = target-&gt;getContentSize();
    Rect rect = Rect(0, 0, s.width, s.height);

    //         
    if (rect.containsPoint(locationInNode))
    {
        log("sprite began... x = %f, y = %f", locationInNode.x, locationInNode.y);
        target-&gt;setOpacity(180);
        return true;
    }
    return false;
};

//        
listener1-&gt;onTouchMoved = [](Touch* touch, Event* event){
    auto target = static_cast&lt;Sprite*&gt;(event-&gt;getCurrentTarget());
    //              
    target-&gt;setPosition(target-&gt;getPosition() + touch-&gt;getDelta());
};

//         
listener1-&gt;onTouchEnded = [=](Touch* touch, Event* event){
    auto target = static_cast&lt;Sprite*&gt;(event-&gt;getCurrentTarget());
    log("sprite onTouchesEnded.. ");
    target-&gt;setOpacity(255);
    //      ZOrder            
    if (target == sprite2)
    {
        sprite1-&gt;setZOrder(100);
    }
    else if(target == sprite1)
    {
        sprite1-&gt;setZOrder(0);
    }
};
</code></pre>

<p>```</p>

<h3> </h3>

<pre><code>  2.0
</code></pre>

<h2> </h2>

<p>SceneGraphPriority   FixedPriority       </p>

<h2> </h2>

<h2>node:</h2>

</body>
</html>
